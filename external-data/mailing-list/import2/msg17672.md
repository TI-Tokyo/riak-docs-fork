---
title: "Re: Seeking Backup solution for live nodes"
description: ""
project: community
lastmod: 2016-09-26T07:19:57-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17672"
mailinglist_parent_id: "msg17671"
author_name: "Outback Dingo"
project_section: "mailinglistitem"
sent_date: 2016-09-26T07:19:57-0700
---


On Mon, Sep 26, 2016 at 10:13 AM, Matthew Von-Maszewski
 wrote:
> Neither.
>
> The leveldb instance creates a snapshot of the current files and generates a
> working MANIFEST to go with them. That means the snapshot is in â€œready to
> runâ€ condition. This is based upon hard links for the .sst table files.
>
> The user can then choose to copy that snapshot elsewhere, point a backup
> tool at it, and/or just leave it there for the five snapshot rotation.
>
> One line cron job can kick off the snapshot.
>
> Similar to using mySql hot backup. You have the system generate the backup
> data, then you decide how to manage / store it.
>
> Matthew
>
>
> On Sep 26, 2016, at 10:07 AM, DeadZen  wrote:
>
> there a backup tool that uses this yet? or is this meant more to be used
> with snapshots provided through xfs/zfs?
>
> On Monday, September 26, 2016, Matthew Von-Maszewski 
> wrote:
>>
>> Here are notes on the new hot backup:
>>
>> https://github.com/basho/leveldb/wiki/mv-hot-backup
>>
>> This sound like what you need?
>>
>> Matthew
>>
>> Sent from my iPad
>>
>> > On Sep 26, 2016, at 5:39 AM, Niels Christian Sorensen
>> >  wrote:
>> >
>> > Hi,
>> >
>> > We use Riak-kv Enterprise Edition as base for Riak CS to store files in.
>> > Each customer has a separate bucket in the cluster(s) and all data is 
>> > stored
>> > multi site in 3 copies. Thus the "i lost a node" situation is fully 
>> > covered.
>> >
>> > I need however, a solution for providing customers with a "single
>> > instance" backup of their data.
>> >
>> > I am aware of the possibility of tar, cp, scp, what-ever-copy of the
>> > data - but this require me to take system off-line according to this:
>> >
>> > https://docs.basho.com/riak/kv/2.1.4/using/cluster-operations/backing-up/
>> >
>> > Also I would still have to restore all customers data (and all involved
>> > nodes) - this is not trivial!
>> >
>> > Also I realize that the "riak-admin backup" is deprecated and should be
>> > avoided - It seemed like an easy solution to my problem but....
>> >
>> > The s3cmd will allow me to pull out the data and I could most likely
>> > write a fantastic automatic script based system to use this - I do not have
>> > the time for that and are therefor looking for a commercial or "pre-build -
>> > adjustable" solution that will allow me to pull out a single copy of all
>> > data stored in a bucket and keep it elsewhere.
>> >
>> > Any ideas / solutions / quotes (as external consultant) on a solution to
>> > this problem?
>> >
>> > A plan for recovery is obviously also needed ;-)
>> >

also note that there are S3 capable backup tools such as restic and
rclone ...... maybe simpler to have clients use them. Id steer away
from s3cmd.



>> > Thanks in advance
>> >
>> > /Christian
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

